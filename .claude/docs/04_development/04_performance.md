# VocaPDF - 성능 최적화 가이드

## 📌 개요

이 문서는 VocaPDF의 성능을 최적화하고 사용자 경험을 향상시키기 위한 전략과 가이드라인을 제공합니다.

---

## ⚡️ 백엔드 성능 최적화

### 1. API 응답 시간

-   **목표**: 단어 20개 기준, 전체 처리 시간을 10초 이내로 유지합니다.
-   **전략**:
    -   **API 재시도 로직**: 외부 API 호출 실패 시, 불필요한 대기 시간을 줄이기 위해 최대 2회 재시도 후 빠르게 실패 처리합니다.
    -   **타임아웃 설정**: 모든 외부 API 요청에 10초의 타임아웃을 적용하여 무한 대기를 방지합니다.

### 2. 동시 요청 처리

-   **현재 구조**: 사용자의 단어 목록을 **순차적으로** 처리하여 외부 API에 과도한 부하를 주지 않도록 설계되었습니다.
-   **향후 개선**:
    -   `Promise.all`과 Throttling(동시 요청 개수 제한)을 결합하여 병렬 처리로 성능을 개선할 수 있습니다. (e.g., 동시에 5개씩 요청)
    -   Redis와 같은 캐시 레이어를 도입하여 동일한 단어에 대한 반복적인 API 호출을 줄일 수 있습니다.

---

## 🎨 프론트엔드 성능 최적화

### 1. 로딩 경험 (UX)

-   **핵심**: 실제 처리 시간과 별개로, 사용자가 인지하는 '체감 성능'을 개선하는 것이 중요합니다.
-   **전략**:
    -   **로딩 오버레이**: API 요청 및 PDF 생성 중에는 전체 화면을 덮는 로딩 오버레이와 스피너를 표시하여 시스템이 동작 중임을 명확히 알립니다.
    -   **진행 상황 텍스트**: "총 X개 중 Y개 단어 조회 중..."과 같은 구체적인 진행 상황 메시지를 제공하여 사용자의 불안감을 해소합니다.
    -   **버튼 비활성화**: 로딩 중에는 모든 버튼을 비활성화하여 중복 요청을 방지합니다.

### 2. 렌더링 최적화

-   **React 렌더링**:
    -   `useState`를 적절히 사용하여 불필요한 리렌더링을 최소화합니다.
    -   `React.memo`를 사용하여 props가 변경되지 않은 컴포넌트의 리렌더링을 방지할 수 있습니다. (현재 프로젝트 규모에서는 불필요)

### 3. PDF 생성 성능

-   **클라이언트 사이드 생성**: PDF는 사용자의 브라우저에서 직접 생성되므로 서버 부하가 없습니다.
-   **주의사항**:
    -   단어 개수가 500개에 가까워지면 PDF 생성에 수 초가 소요될 수 있습니다. 이때도 "PDF 생성 중..." 메시지를 표시하여 사용자에게 피드백을 제공해야 합니다.
    -   jsPDF의 `compress: true` 옵션을 사용하여 생성되는 PDF 파일의 용량을 최적화합니다.

---

## 📊 성능 측정 기준

성공 지표 문서에 정의된 처리 시간을 기준으로 성능을 측정하고 관리합니다.

| 단어 개수 | 목표 시간 |
|-----------|----------|
| 20개      | 10초 이내 |
| 100개     | 1분 이내 |
| 500개     | 4분 이내 |

---

## 📝 문서 이력
- 2025-10-10: 초안 작성